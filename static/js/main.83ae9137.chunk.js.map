{"version":3,"sources":["contexts/Web3.js","contexts/User.js","components/Loader.js","utils.js","components/Progress.js","components/Processor.js","model/Claim.js","components/WarrantiesMatching.js","components/ShowWarranties.js","containers/Customer/Dashboard.js","components/Link.js","components/LinkedActions.js","components/Form.js","schemas/extended.js","schemas/index.js","components/CreateWarranty.js","components/FundWarranty.js","containers/Customer/index.js","containers/Home/index.js","containers/User/index.js","containers/Business/Dashboard.js","contexts/Claim.js","containers/Business/LoadsWarranty.js","components/Text.js","containers/Business/ViewWarranty.js","containers/Business/TerminateWarranty.js","containers/Business/RedeemWarranty.js","containers/Business/DeredeemWarranty.js","containers/Business/FulfillWarranty.js","containers/Business/PerWarranty.js","components/GuaranteeWarranty.js","containers/Business/index.js","containers/Navigation/index.js","containers/App/index.js","serviceWorker.js","index.js"],"names":["Web3Context","React","createContext","a","Promise","resolve","reject","window","addEventListener","ethereum","web3","Web3","autoRefreshOnNetworkChange","enable","console","log","provider","providers","WebsocketProvider","eth","getAccounts","accounts","net","getId","networkId","deployedNetwork","Warranty","networks","address","instance","Contract","abi","contract","error","alert","defaultAddress","UserContext","selectedAddress","amount","BigNumber","Provider","props","subscription","useContext","givenProvider","useState","setAmount","loading","setLoading","user","useEffect","fetchBalance","subscribe","on","topics","includes","unsubscribe","success","value","children","methods","balance","call","then","catch","e","Loader","className","size","toDate","seconds","Date","toNumber","toISOString","split","join","pathAppend","base","path","length","ignoreReject","fn","result","code","addressZero","Progress","claim","terminated","fulfilled","span","redeemed","initial","progress","observe","render","fontFamily","isEqualTo","times","toFixed","Processor","toastProvider","toastConfig","state","processed","processing","this","arg","setState","renderToast","processorMethod","endProcess","key","configGen","generated","_","isFunction","update","options","variant","message","$set","$merge","addMessage","apply","ref","node","Component","claims","Claim","id","stored","warrantee","all","ownerOf","_claims","Error","initialize","deleteClaim","clone","fetch","Object","assign","warrantor","activatedAt","activatedTime","expiresAfterTime","expiresAfter","plus","now","expireTime","progressDenominator","minus","progressNumerator","min","dividedBy","expiredTime","isGreaterThan","reduce","memo","concat","WarrantiesContext","WarrantiesMatching","cache","process","balanceOf","context","toLowerCase","getPastEvents","eventName","logs","cacheLogProgress","filter","to","fromBlock","toBlock","cacheKey","blockNumber","appendLocalStorage","newItems","dupedItems","getLocalStorage","saveableItems","sortBy","uniqBy","localStorage","setItem","JSON","stringify","read","getItem","parse","getCachedPastEvents","results","i","returnValues","tokenId","acceptClaim","push","finishedAccepting","renderLoaded","contextType","ShowWarranties","history","match","fromWei","utils","Consumer","striped","bordered","hover","responsive","mb","map","valuation","convertedValuation","convertedValue","title","states","onClick","style","cursor","Dashboard","Helmet","Link","display","disabled","preventDefault","categories","customer","create","fund","sell","business","guarantee","transfer","LinkedActions","list","actions","keys","texts","LinkedAction","mr","FormContext","inputs","valid","onChange","Form","bind","defaultInputs","validateds","isValid","prevProps","isEqual","resetState","validation","validate","stopPropagation","onSubmit","futureInputs","futureValidateds","setInputs","target","validated","baseArg","name","assert","isNaN","parseFloat","joi","Joi","extend","type","string","messages","helpers","errors","rules","lessThan","args","method","$_addRule","isLessThan","greaterThanOrEqualTo","isGreaterThanOrEqualTo","object","required","bigNumber","deredeem","expiryTime","delayTime","fulfill","CreateWarranty","failure","secondaryMessage","toString","toWei","from","valueWei","valuationWei","createAndGuaranteeClaim","send","createClaim","disableWarrantor","px","py","mt","toastMessage","createSchema","mx","flexWrap","width","label","placeholder","my","color","FundWarranty","fundClaim","params","p","fundSchema","DashboardWithRouter","withRouter","LinkedActionsWithRouter","Home","User","releaseTo","Release","ClaimContext","LoadsWarranty","awaitFetch","component","promise","Text","minWidth","ViewWarranty","url","owner","can","Outline","TerminateWarranty","terminateClaim","updateClaim","RedeemWarranty","redeemClaim","DeredeemWarranty","deredeemClaim","deredeemSchema","form","FulfillWarranty","fulfillClaim","fulfillSchema","computeNeededValue","ViewWarrantyWithRouter","TerminateWarrantyWithRouter","RedeemWarrantyWithRouter","DeredeemWarrantyWithRouter","FulfillWarrantyWithRouter","PerWarranty","GuaranteeWarranty","guaranteeClaim","PerWarrantyWithRouter","FundWarrantyWithRouter","Business","linked","balanceStyles","float","height","lineHeight","marginRight","Navigation","location","Nav","activeKey","pathname","defaultActiveKey","content","Item","eventKey","margin","Balance","padding","fontSize","border","opts","seed","bgcolor","scale","spotcolor","renderUser","CustomerWithRouter","BusinessWithRouter","UserWithRouter","routes","StyleContainer","styled","div","App","titleTemplate","defaultTitle","Container","renderChildren","Boolean","hostname","contextValue","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister","getUserInfo"],"mappings":"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","file":"static/js/main.83ae9137.chunk.js","sourcesContent":["import React from 'react'\nimport Warranty from 'contracts/Warranty.json'\nimport Web3 from 'web3'\n\nexport const Web3Context = React.createContext({})\n\nexport async function getUserInfo() {\n  try {\n    // Get network provider and web3 instance.\n    const web3 = await getWeb3();\n\n    // Use web3 to get the user's accounts.\n    const accounts = await web3.eth.getAccounts();\n\n    // Get the contract instance.\n    const networkId = await web3.eth.net.getId();\n    const deployedNetwork = Warranty.networks[networkId];\n    const address = deployedNetwork && deployedNetwork.address\n    const instance = new web3.eth.Contract(\n      Warranty.abi,\n      deployedNetwork && deployedNetwork.address,\n    );\n\n    // Set web3, accounts, and contract to the state, and then proceed with an\n    // example of interacting with the contract's methods.\n    window.contract = instance\n    return {\n      web3,\n      address,\n      accounts,\n      contract: instance\n    }\n  } catch (error) {\n    // Catch any errors for any of the above operations.\n    console.error(error);\n    alert(\n      `Failed to load web3, accounts, or contract. Check console for details.`,\n    );\n  }\n}\n\nfunction getWeb3() {\n  return new Promise((resolve, reject) => {\n    // Wait for loading completion to avoid race conditions with web3 injection timing.\n    window.addEventListener('load', async () => {\n      // Modern dapp browsers...\n      if (window.ethereum) {\n        const web3 = new Web3(window.ethereum);\n        try {\n          // Request account access if needed\n          window.ethereum.autoRefreshOnNetworkChange = false\n          await window.ethereum.enable();\n          // Acccounts now exposed\n          resolve(web3);\n        } catch (error) {\n          reject(error);\n        }\n      }\n      // Legacy dapp browsers...\n      else if (window.web3) {\n        // Use Mist/MetaMask's provider.\n        const web3 = window.web3;\n        console.log('Injected web3 detected.');\n        resolve(web3);\n      }\n      // Fallback to localhost; use dev console port by default...\n      else {\n        const provider = new Web3.providers.WebsocketProvider(\n          'ws://127.0.0.1:8545'\n        );\n        const web3 = new Web3(provider);\n        console.log('No web3 instance injected, using Local web3.');\n        resolve(web3);\n      }\n    });\n  });\n}","import React, { useEffect, useState, useContext } from 'react'\nimport BigNumber from 'bignumber.js'\nimport { Web3Context } from 'contexts/Web3'\n\nconst defaultAddress = '0x0'\nexport const UserContext = React.createContext({\n  selectedAddress: defaultAddress,\n  amount: new BigNumber(0),\n})\n\n// const lastKnownBlock = 0\nexport const Provider = (props) => {\n  const { contract, web3, address } = useContext(Web3Context)\n  const givenProvider = (contract ? contract.givenProvider : {})\n  const { selectedAddress } = givenProvider\n  const [amount, setAmount] = useState(new BigNumber(0))\n  const [loading, setLoading] = useState(false)\n  const user = { selectedAddress, amount, loading }\n  let subscription\n\n  useEffect(fetchBalance, [contract])\n  useEffect(setupSubscription, [web3])\n  return (\n    <UserContext.Provider value={user}>{props.children}</UserContext.Provider>\n  )\n\n  function fetchBalance() {\n    if (!contract) {\n      return\n    }\n    if (givenProvider.selectedAddress === defaultAddress) {\n      return\n    }\n    setLoading(true)\n    contract.methods.balance(givenProvider.selectedAddress).call().then((amount) => {\n      setAmount(new BigNumber(amount || 0))\n    }).catch(e => {\n      console.error(e)\n    }).then(() => {\n      setLoading(false)\n    })\n  }\n\n  function setupSubscription() {\n    if (!web3) {\n      return\n    }\n    if (subscription) {\n      return\n    }\n    fetchBalance()\n    subscription = web3.eth.subscribe('logs', {\n      address,\n    }, (error) => {\n      if (error) {\n        console.error(error)\n      }\n    }).on('data', (log) => {\n      console.log(log)\n      if (log.topics.includes('0x7d016f8eb7665cdc83ca6289966f4c4c45a0b3e2add7bd7952ebb8aca1831d01')) {\n        fetchBalance()\n      }\n    })\n    return () => subscription.unsubscribe((error, success) => {\n      subscription = null\n      if (error) {\n        console.error(error)\n      }\n      if (!success) {\n        console.log('failed to unsubscribe', success)\n      }\n    })\n  }\n}\n","import React from 'react'\nimport {\n    Loader as RimbleLoader\n} from 'rimble-ui'\n\nexport const Loader = ({ children }) => (\n    <>\n        <h3 className='loader-text-centered'>{children}</h3>\n        <RimbleLoader size='80px' className='loader-centered' />\n    </>\n)\n","import BigNumber from 'bignumber.js'\nexport const toDate = (seconds) => {\n  return (new Date(new BigNumber(seconds).toNumber() * 1000)).toISOString().split('T').join(' ').split('-').join('/').split('.000Z')[0]\n}\n\nexport const pathAppend = (base, path) => {\n  return base + (base[base.length - 1] === '/' ? '' : '/') + path\n}\n\nexport const ignoreReject = async (fn) => {\n  try {\n    const result = await fn()\n    return result\n  } catch (e) {\n    if (e.code !== 4001) {\n      throw e\n    }\n    return false\n  }\n}\n\nexport const addressZero = '0x0000000000000000000000000000000000000000'\n","import React from 'react'\nimport ReactSentinel from 'react-sentinel'\nimport {\n  Progress as RimbleProgress,\n  Text\n} from 'rimble-ui'\nexport const Progress = ({ claim }) => (\n  claim.terminated ?\n    (claim.fulfilled ?\n      <Text.span>Fulfilled</Text.span> : (claim.redeemed ?\n        <Text.span>Redeemed</Text.span> : <Text.span>Terminated</Text.span>))\n    : <ReactSentinel initial={{\n      value: claim.progress()\n    }} observe={() => ({\n      value: claim.progress()\n    })} render={({ value }) => (\n      <>\n        <RimbleProgress value={value.toNumber()} />\n        &nbsp;\n        <Text.span fontFamily=\"courier\">{value.isEqualTo(1) ? 'Complete' : (value.times(100).toFixed(4) + '%')}</Text.span>\n      </>\n    )} />\n)\n","import React, { Component } from 'react'\nimport { ToastMessage } from 'rimble-ui'\nimport _ from 'lodash'\nimport update from 'immutability-helper'\n\nexport class Processor extends Component {\n  toastProvider = null\n  toastConfig = {}\n  componentWillUnmount() {\n    this.toastProvider = null\n  }\n  state = {\n    processed: 0,\n    processing: 0,\n    error: null,\n    result: null,\n  }\n  async process(arg) {\n    if (this.state.processing) {\n      return\n    }\n    this.setState(({ processing }) => ({\n      processing: processing + 1,\n    }))\n    this.renderToast('processing')\n    let result\n    let error\n    try {\n      result = await this[this.processorMethod](arg)\n      if (result) {\n        this.setState(() => ({\n          result,\n          error: null,\n        }))\n        this.renderToast('success')\n      }\n    } catch (err) {\n      console.log(err)\n      error = err\n      this.setState(() => ({\n        error: err,\n      }))\n      this.renderToast('failure', err)\n    } finally {\n      this.endProcess(error)\n    }\n    return result\n  }\n  renderToast(key, error) {\n    const { toastProvider, toastConfig } = this\n    if (!toastProvider || !toastConfig) {\n      return\n    }\n    const configGen = toastConfig[key]\n    if (!configGen) {\n      return\n    }\n    const generated = _.isFunction(configGen) ? configGen(error || null, this) : configGen\n    const { options, message } = update({\n      options: {\n        variant: key,\n      }\n    }, {\n      message: { $set: generated.message },\n      options: { $merge: generated.options || {} },\n    })\n    toastProvider.addMessage.apply(toastProvider, [message, options])\n  }\n  endProcess(error) {\n    this.setState(({ processed, processing }) => ({\n      processed: processed + 1,\n      processing: processing - 1,\n    }))\n  }\n  toastMessage(props = {}) {\n    return <ToastMessage.Provider {...props} ref={node => (this.toastProvider = node)} />\n  }\n}\n","import _ from 'lodash'\nimport BigNumber from 'bignumber.js'\n\nconst claims = {}\n\nexport class Claim {\n  constructor(id, web3, contract) {\n    this.id = id\n    this.web3 = web3\n    this.contract = contract\n  }\n  async fetch() {\n    const { id, contract } = this\n    const stored = claims[id]\n    if (stored && stored.warrantee) {\n      return stored\n    }\n    const { methods } = contract\n    const [warrantee, claim] = await Promise.all([\n      methods.ownerOf(id).call(),\n      methods._claims(id).call(),\n    ])\n    if (!claim) {\n      throw new Error('claim not found')\n    }\n    this.initialize(warrantee, claim)\n    claims[id] = this\n    return this\n  }\n  update() {\n    deleteClaim(this.id)\n    return this.clone().fetch()\n  }\n  clone() {\n    return new Claim(this.id, this.web3, this.contract)\n  }\n  initialize(warrantee, claim) {\n    // mutate in place ok\n    Object.assign(this, claim, {\n      warrantee\n    })\n  }\n  exists() {\n    return !!this.warrantor\n  }\n  activatedTime() {\n    return this.activatedAt\n  }\n  expiredTime() {\n    const activatedTime = new BigNumber(this.activatedAt)\n    const expiresAfterTime = new BigNumber(this.expiresAfter)\n    return activatedTime.plus(expiresAfterTime)\n  }\n  progress(value = _.now()) {\n    const activatedTime = new BigNumber(this.activatedAt).times(1000)\n    const expiresAfterTime = new BigNumber(this.expiresAfter).times(1000)\n    const expireTime = activatedTime.plus(expiresAfterTime)\n    const progressDenominator = expireTime.minus(activatedTime)\n    const progressNumerator = new BigNumber(value).minus(activatedTime)\n    return BigNumber.min(progressNumerator.dividedBy(progressDenominator), 1)\n  }\n  can(key) {\n    if (key === 'terminate') {\n      return !this.terminated\n    }\n    if (key === 'redeem') {\n      return !this.terminated && !this.redeemed\n    }\n    if (key === 'deredeem') {\n      return !this.terminated && this.redeemed\n    }\n    if (key === 'fulfill') {\n      return !this.terminated\n    }\n    if (key === 'fund') {\n      return this.expiredTime().times(1000).isGreaterThan(_.now())\n    }\n  }\n  states() {\n    return ['terminated', 'fulfilled', 'redeemed'].reduce((memo, key) => {\n      if (this[key]) return memo.concat(key)\n      return memo\n    }, [])\n  }\n}\n\nexport function deleteClaim(id) {\n  delete claims[id]\n}\n","import React from 'react'\nimport { Processor } from 'components/Processor'\nimport { Loader } from 'components/Loader'\nimport { Claim } from 'model/Claim'\nimport { Web3Context } from 'contexts/Web3'\nimport _ from 'lodash'\nimport update from 'immutability-helper'\n\nexport const WarrantiesContext = React.createContext({})\n\nexport class WarrantiesMatching extends Processor {\n  processorMethod = 'loadWarranties'\n  state = {\n    cache: {}\n  }\n  componentDidMount() {\n    return this.process()\n  }\n  finishedAccepting(balanceOf, claims) {\n    return +balanceOf === claims.length\n  }\n  acceptClaim(claim) {\n    const { givenProvider } = this.context.contract\n    return claim.warrantee.toLowerCase() === givenProvider.selectedAddress.toLowerCase()\n  }\n  async getCachedPastEvents() {\n    const { eventName, logs } = await this.getPastEvents()\n    this.cacheLogProgress(eventName, logs)\n    return logs\n  }\n  async getPastEvents() {\n    const eventName = 'Transfer'\n    const { contract } = this.context\n    const { givenProvider } = contract\n    const { selectedAddress } = givenProvider\n    return {\n      eventName,\n      logs: await contract.getPastEvents(eventName, {\n        filter: {\n          to: selectedAddress,\n        },\n        fromBlock: this.cacheLogProgress(eventName) || 'earliest',\n        toBlock: 'latest',\n      })\n    }\n  }\n  cacheKey(eventName) {\n    const { selectedAddress } = this.context.contract.givenProvider\n    return `${eventName}-${selectedAddress}`\n  }\n  cacheLogProgress(eventName, logs) {\n    const key = this.cacheKey(eventName)\n    if (!logs) {\n      return this.state.cache[key]\n    }\n    if (logs.length) {\n      const { blockNumber } = logs[logs.length - 1]\n      // turn into immutablejs when you get a chance\n      this.setState(({ cache }) => ({\n        cache: update(cache, {\n          [key]: { $set: blockNumber },\n        })\n      }))\n      this.appendLocalStorage(key, logs)\n    }\n  }\n  appendLocalStorage(key, newItems) {\n    const items = this.getLocalStorage(key)\n    const dupedItems = items.concat(newItems)\n    const saveableItems = _.sortBy(_.uniqBy(dupedItems, 'id'), ['blockNumber'])\n    window.localStorage.setItem(key, JSON.stringify(saveableItems, null, 2))\n  }\n  getLocalStorage(key) {\n    let result = []\n    try {\n      const read = window.localStorage.getItem(key)\n      if (read) {\n        result = JSON.parse(read)\n      }\n    } catch (e) {\n      console.log(e)\n    } finally {\n      return result\n    }\n  }\n  async loadWarranties() {\n    const { contract, web3 } = this.context\n    const { givenProvider, methods } = contract\n    const claims = []\n    const [balanceOf, results] = await Promise.all([\n      methods.balanceOf(givenProvider.selectedAddress).call(),\n      this.getCachedPastEvents(),\n    ])\n    // loop through log results to get ones that are still owned by warrantee\n    for (let i = 0; i < results.length; i += 1) {\n      const { returnValues } = results[i]\n      let claim = new Claim(returnValues.tokenId, web3, contract)\n      claim = await claim.fetch()\n      if (this.acceptClaim(claim)) {\n        claims.push(claim)\n        if (this.finishedAccepting(balanceOf, claims)) {\n          break\n        }\n      }\n    }\n    return claims\n  }\n  render() {\n    const { result: claims } = this.state\n    if (!claims) {\n      return (\n        <Loader>Loading claims...</Loader>\n      )\n    }\n    return (\n      <WarrantiesContext.Provider value={{ claims }}>\n        {this.renderLoaded()}\n      </WarrantiesContext.Provider>\n    )\n  }\n}\nWarrantiesMatching.contextType = Web3Context","import React from 'react'\nimport BigNumber from 'bignumber.js'\nimport { Web3Context } from 'contexts/Web3'\nimport { toDate } from 'utils'\nimport {\n  Table,\n  Text\n} from 'rimble-ui'\nimport { Progress } from 'components/Progress'\nimport {\n  WarrantiesMatching,\n  WarrantiesContext,\n} from 'components/WarrantiesMatching'\n\nexport class ShowWarranties extends WarrantiesMatching {\n  renderLoaded() {\n    const { context, props } = this\n    const { web3 } = context\n    const { history, match } = props\n    const { fromWei } = web3.utils\n    return (\n      <WarrantiesContext.Consumer>\n        {({ claims }) => (!claims.length ? [] :\n          <Table striped bordered hover responsive size=\"sm\" mb={3}>\n            <thead>\n              <tr>\n                <th>ID</th>\n                <th>Valuation</th>\n                <th>Value</th>\n                <th>Activated At</th>\n                <th>Expires At</th>\n                <th>Progress</th>\n              </tr>\n            </thead>\n            <tbody>\n              {claims.map((claim) => {\n                const {\n                  id,\n                  valuation,\n                  value,\n                  activatedAt,\n                  expiresAfter\n                } = claim\n                const convertedValuation = fromWei(valuation, 'ether')\n                const convertedValue = fromWei(value, 'ether')\n                const activatedTime = new BigNumber(activatedAt)\n                const expiresAfterTime = new BigNumber(expiresAfter)\n                const expireTime = activatedTime.plus(expiresAfterTime)\n                console.log(claim)\n                const title = `${JSON.stringify({\n                  id,\n                  valuation,\n                  value,\n                  activatedTime: toDate(activatedTime),\n                  expireTime: toDate(expireTime),\n                  warrantee: claim.warrantee,\n                  warrantor: claim.warrantor,\n                  states: claim.states(),\n                }, null, 2)}`\n                return (\n                  <tr key={`row-${id}`} title={title} onClick={() => history.push(`${match.path}warranty/${id}/`)} style={{ cursor: 'pointer' }}>\n                    <td><Text fontFamily=\"courier\">{id}</Text></td>\n                    <td><Text fontFamily=\"courier\">{convertedValuation}&nbsp;ETH</Text></td>\n                    <td><Text fontFamily=\"courier\">{convertedValue}&nbsp;ETH</Text></td>\n                    <td><Text fontFamily=\"courier\">{toDate(activatedTime)}</Text></td>\n                    <td><Text fontFamily=\"courier\">{toDate(expireTime)}</Text></td>\n                    <td><Progress claim={claim} /></td>\n                  </tr>\n                )\n              })}\n            </tbody>\n          </Table>\n        )}</WarrantiesContext.Consumer>\n    )\n  }\n}\nShowWarranties.contextType = Web3Context\n","import React from 'react'\nimport { ShowWarranties } from 'components/ShowWarranties'\nimport { Web3Context } from 'contexts/Web3'\nimport { Helmet } from 'react-helmet'\n\nexport class Dashboard extends ShowWarranties {\n  acceptClaim(claim) {\n    const { givenProvider } = this.context.contract\n    return claim.warrantee.toLowerCase() === givenProvider.selectedAddress.toLowerCase()\n  }\n  async getPastEvents() {\n    const eventName = 'Guaranteed'\n    const { contract } = this.context\n    const { givenProvider } = contract\n    const { selectedAddress } = givenProvider\n    return {\n      eventName,\n      logs: await contract.getPastEvents(eventName, {\n        filter: {\n          to: selectedAddress,\n        },\n        fromBlock: this.cacheLogProgress(eventName) || 'earliest',\n        toBlock: 'latest',\n      })\n    }\n  }\n  renderLoaded() {\n    return (\n      <>\n        <Helmet>\n          <title>Dashboard</title>\n        </Helmet>\n        {super.renderLoaded()}\n      </>\n    )\n  }\n}\nDashboard.contextType = Web3Context\n","import React, { Component } from 'react'\nimport { Link as RRLink } from 'react-router-dom'\n\nexport class Link extends Component {\n    ref = null\n    render() {\n        return (\n            <RRLink style={{\n                display: \"inline-block\",\n            }} ref={(ref) => { this.ref = ref }} onClick={(e) => {\n                const { ref } = this\n                if (ref) {\n                    for (const child of ref.children) {\n                        if (child.disabled) {\n                            e.preventDefault()\n                        }\n                    }\n                }\n            }} {...this.props} />\n        )\n    }\n}","import React from 'react'\nimport {\n  Flex,\n  Box,\n  Button\n} from 'rimble-ui'\nimport { Link } from 'components/Link'\nconst categories = {\n  customer: {\n    create: 'Create a new claim',\n    fund: 'Fund a claim',\n    sell: 'Sell a claim',\n  },\n  business: {\n    create: 'Create a new claim',\n    fund: 'Fund a claim',\n    guarantee: 'Guarantee a claim',\n    transfer: 'Transfer a claim',\n  },\n}\nexport const LinkedActions = ({ match, list }) => {\n  const actions = []\n  const keys = []\n  const texts = categories[list]\n  for (let key in texts) {\n    if (match && match.path.includes(`/${key}/`)) {\n      continue\n    }\n    keys.push(key)\n  }\n  for (let i = 0; i < keys.length; i += 1) {\n    const key = keys[i]\n    actions.push(\n      <LinkedAction\n        key={key}\n        mr={(i < keys.length - 1) ? 3 : 0}\n        to={`/${list}/${key}/`}>\n        {texts[key]}\n      </LinkedAction>\n    )\n  }\n  return (\n    <Flex mb={3}>\n      <LinkedAction mr={3} to=\"..\">\n        Back\n      </LinkedAction>\n      {actions}\n    </Flex>\n  )\n}\n\nfunction LinkedAction({ mr, to, children }) {\n  return (\n    <Box mr={mr}>\n      <Link to={to}>\n        <Button>{children}</Button>\n      </Link>\n    </Box>\n  )\n}","import React, { Component } from 'react'\nimport _ from 'lodash'\nimport { Form as RimbleForm } from 'rimble-ui'\nimport update from 'immutability-helper'\n\nexport const FormContext = React.createContext({\n  inputs: {},\n  valid: false,\n  onChange: () => { }\n})\n\nexport class Form extends Component {\n  state = {\n    inputs: {}\n  }\n  constructor(props) {\n    super(props)\n    this.state = {\n      onChange: this.onChange.bind(this),\n      valid: false,\n      inputs: props.defaultInputs || {},\n      validateds: {},\n    }\n    this.state.valid = this.isValid()\n  }\n  componentDidUpdate(prevProps) {\n    const { defaultInputs = {} } = this.props\n    if (!_.isEqual(defaultInputs, prevProps.defaultInputs)) {\n      this.resetState(defaultInputs)\n    }\n  }\n  validate(inputs) {\n    if (!this.props.validation) {\n      return {}\n    }\n    return this.props.validation.validate(inputs || this.state.inputs)\n  }\n  isValid(inputs) {\n    const result = this.validate(inputs)\n    return !result.error\n  }\n\n  async onSubmit(e) {\n    e.preventDefault()\n    e.stopPropagation()\n    await this.props.onSubmit(this.state.inputs)\n    this.resetState()\n  }\n  resetState(defaultInputs = {}) {\n    this.setState({\n      valid: false,\n      inputs: defaultInputs || {},\n      validateds: {},\n    })\n  }\n  setInputs(key, value) {\n    this.setState(({ inputs, validateds }) => {\n      const futureInputs = update(inputs, {\n        [key]: { $set: value },\n      })\n      const futureValidateds = update(validateds, {\n        [key]: { $set: validateds[key] || true },\n      })\n      const valid = this.isValid(futureInputs)\n      return {\n        valid,\n        inputs: futureInputs,\n        validateds: futureValidateds,\n      }\n    })\n  }\n  onChange(key, e) {\n    this.setInputs(key, e.target.value)\n  }\n  render() {\n    return (\n      <RimbleForm onSubmit={this.onSubmit.bind(this)} validated={this.state.valid}>\n        <FormContext.Provider value={this.state}>{this.props.children}</FormContext.Provider>\n      </RimbleForm>\n    )\n  }\n}\n","import Joi from '@hapi/joi'\nimport BigNumber from 'bignumber.js'\n\nconst baseArg = {\n  name: 'base',\n  ref: false,\n  assert: (value) => value !== '' && !isNaN(+value) && !isNaN(parseFloat(value)),\n  message: 'must be a number'\n}\nconst joi = Joi.extend((joi) => ({\n  type: 'bigNumber',\n  base: Joi.string(),\n  messages: {\n    'bigNumber.not': '\"{{#label}}\" must be a number',\n    'bigNumber.greaterThanOrEqualTo': '\"{{#label}}\" must be greaterThanOrEqualTo {{#base}}',\n    'bigNumber.lessThan': '\"{{#label}}\" must be lessThan {{#base}}'\n  },\n  validate(value, helpers) {\n    // Base validation regardless of the rules applied\n    if (value === '' || isNaN(+value)) {\n      return {\n        value,\n        errors: helpers.error('bigNumber.not')\n      }\n    }\n  },\n  rules: {\n    lessThan: {\n      args: [baseArg],\n      method(base) {\n        return this.$_addRule({ name: 'lessThan', args: { base } });\n      },\n      validate(value, helpers, args) {\n        if ((new BigNumber(value)).isLessThan(args.base)) {\n          return value\n        }\n        return helpers.error('bigNumber.lessThan', { base: args.base })\n      }\n    },\n    greaterThanOrEqualTo: {\n      args: [baseArg],\n      method(base) {\n        return this.$_addRule({ name: 'greaterThanOrEqualTo', args: { base } });\n      },\n      validate(value, helpers, args) {\n        if ((new BigNumber(value)).isGreaterThanOrEqualTo(args.base)) {\n          return value\n        }\n        return helpers.error('bigNumber.greaterThanOrEqualTo', { base: args.base })\n      }\n    }\n  }\n}))\n\nexport default joi\n","import BigNumber from 'bignumber.js'\nimport joi from './extended'\n\nexport const create = joi.object().keys({\n  warrantee: joi.string().required(),\n  warrantor: joi.string().required(),\n  valuation: joi.bigNumber().required(),\n  value: joi.bigNumber().required(),\n  expiresAfter: joi.bigNumber()\n    .required()\n    .greaterThanOrEqualTo(60)\n    .lessThan(new BigNumber(1000000000000)),\n}).required()\n\nexport const deredeem = joi.object().keys({\n  expiryTime: joi.bigNumber().required(),\n  delayTime: joi.bigNumber().required(),\n}).required()\n\nexport const fulfill = joi.object().keys({\n  value: joi.bigNumber().required(),\n  address: joi.string(),\n}).required()\n\nexport const fund = joi.object().keys({\n  id: joi.bigNumber().required().greaterThanOrEqualTo(0),\n  value: joi.bigNumber().required().greaterThanOrEqualTo((new BigNumber(1)).dividedBy(1e18)),\n}).required()\n\nexport const guarantee = joi.object().keys({\n  id: joi.bigNumber().required().greaterThanOrEqualTo(0),\n  value: joi.bigNumber().required().greaterThanOrEqualTo(0),\n}).required()\n\nexport const transfer = joi.object().keys({\n  id: joi.bigNumber().required().greaterThanOrEqualTo(0),\n  value: joi.bigNumber().required().greaterThanOrEqualTo(0),\n}).required()\n","import React from 'react'\nimport {\n  Input,\n  Button,\n  Loader as RimbleLoader,\n  Flex,\n  Box,\n  Card,\n  Field\n} from 'rimble-ui'\nimport { Helmet } from 'react-helmet'\nimport { Processor } from 'components/Processor'\nimport { Form, FormContext } from 'components/Form'\nimport { Web3Context } from 'contexts/Web3'\nimport { create as createSchema } from 'schemas'\nimport { ignoreReject } from 'utils'\n\nexport class CreateWarranty extends Processor {\n  processorMethod = 'create'\n  onSubmit(inputs) {\n    return this.process(inputs)\n  }\n  toastConfig = {\n    processing: () => ({ message: 'Processing Claim Creation...' }),\n    success: () => ({ message: 'Claim Created' }),\n    failure: (error) => ({\n      message: 'Unable to Create Claim',\n      options: {\n        variant: 'failure',\n        secondaryMessage: error.toString(),\n      }\n    }),\n  }\n  async create(inputs) {\n    const { context, props } = this\n    const { value, valuation, warrantee, warrantor, expiresAfter } = inputs\n    const { contract, web3 } = context\n    const { toWei } = web3.utils\n    const { givenProvider, methods } = contract\n    const from = givenProvider.selectedAddress\n    const valueWei = toWei(value, 'ether')\n    const valuationWei = toWei(valuation, 'ether')\n    const options = {\n      from,\n      value: valueWei,\n    }\n    console.log({\n      from,\n      warrantee,\n      warrantor,\n      valuationWei,\n      valueWei,\n      expiresAfter\n    })\n    return ignoreReject(async () => {\n      console.log('props.guarantee', props.guarantee)\n      if (props.guarantee) {\n        const result = await methods.createAndGuaranteeClaim(warrantee, valuationWei, expiresAfter).send(options)\n        console.log(result)\n      } else {\n        const result = await methods.createClaim(warrantee, warrantor, valuationWei, expiresAfter).send(options)\n        console.log(result)\n      }\n      return true\n    })\n  }\n  render() {\n    const { state, props, context, onSubmit } = this\n    const { processing } = state\n    const { contract } = context\n    const { givenProvider } = contract\n    let warrantee = ''\n    let warrantor = ''\n    let disableWarrantor = false\n    if (props.guarantee) {\n      warrantor = givenProvider.selectedAddress\n      disableWarrantor = true\n    } else {\n      warrantee = givenProvider.selectedAddress\n    }\n    return (\n      <Card px={3} py={3} mt={3}>\n        {this.toastMessage()}\n        <Helmet>\n          <title>Create Claim</title>\n        </Helmet>\n        <Form validation={createSchema} onSubmit={onSubmit.bind(this)} defaultInputs={{\n          warrantee,\n          warrantor,\n        }}>\n          <FormContext.Consumer>{({ inputs, onChange, valid }) => (\n            <>\n              <Flex mx={3} flexWrap='wrap'>\n                <h3>Create a New Claim</h3>\n              </Flex>\n              <Flex mt={3} flexWrap='wrap' title='The warrantee of the token when it is minted'>\n                <Box width={[1, 1, 1 / 2]}>\n                  <Field label='Warrantee' width={1} px={3}>\n                    <Input\n                      type='text'\n                      width={1}\n                      required={true}\n                      value={inputs.warrantee || ''}\n                      placeholder='e.g. 0xAc03BB73b6a9e108530AFf4Df5077c2B3D481e5A'\n                      onChange={(e) => onChange('warrantee', e)} />\n                  </Field>\n                </Box>\n                <Box width={[1, 1, 1 / 2]}>\n                  <Field label='Warrantor' width={1} px={3}>\n                    <Input\n                      type='text'\n                      width={1}\n                      required={true}\n                      disabled={disableWarrantor}\n                      value={inputs.warrantor || ''}\n                      placeholder='e.g. 0xAc03BB73b6a9e108530AFf4Df5077c2B3D481e5A'\n                      onChange={(e) => onChange('warrantor', e)} />\n                  </Field>\n                </Box>\n              </Flex>\n              <Flex flexWrap='wrap' title='The valuation of the item to be fulfilled in ETH if the claim is redeemed and fulfilled by the warrantor'>\n                <Box width={[1, 1, 1 / 2]}>\n                  <Field label='Valuation' width={1} px={3}>\n                    <Input\n                      type='text'\n                      width={1}\n                      required={true}\n                      value={inputs.valuation || ''}\n                      placeholder='assessed value in terms of ether (e.g. 25)'\n                      onChange={(e) => onChange('valuation', e)} />\n                  </Field>\n                </Box>\n                <Box width={[1, 1, 1 / 2]} title='The value to be attributed into the token when it is minted'>\n                  <Field label='Value' width={1} px={3}>\n                    <Input\n                      type='text'\n                      width={1}\n                      required={true}\n                      value={inputs.value || ''}\n                      placeholder='Starting value in ether (e.g. 1.2)'\n                      onChange={(e) => onChange('value', e)} />\n                  </Field>\n                </Box>\n                <Box width={[1, 1, 1 / 2]} title='The point in time when the token can be liquidated'>\n                  <Field label='Expires After' width={1} px={3}>\n                    <Input\n                      type='text'\n                      width={1}\n                      required={true}\n                      value={inputs.expiresAfter || ''}\n                      placeholder='time until warranty expires in seconds'\n                      onChange={(e) => onChange('expiresAfter', e)} />\n                  </Field>\n                </Box>\n              </Flex>\n              <Flex flexWrap='wrap' px={3} my={3}>\n                <Box width={[1, 1, 1 / 2]}>\n                  <Button\n                    type='submit'\n                    disabled={processing || !valid}>Create Warranty&nbsp;{processing ? <RimbleLoader color='white' /> : []}\n                  </Button>\n                </Box>\n              </Flex>\n            </>\n          )}</FormContext.Consumer>\n        </Form>\n      </Card >\n    )\n  }\n}\n\nCreateWarranty.contextType = Web3Context\n","import React from 'react'\nimport {\n  Flex,\n  Box,\n  Field,\n  Card,\n  Input,\n  Button,\n  Loader as RimbleLoader\n} from 'rimble-ui'\nimport { Helmet } from 'react-helmet'\nimport {\n  Form,\n  FormContext\n} from 'components/Form'\nimport { fund as fundSchema } from 'schemas'\nimport { Web3Context } from 'contexts/Web3'\nimport { ignoreReject } from 'utils'\nimport { Processor } from 'components/Processor'\nimport { deleteClaim } from 'model/Claim'\n\nexport class FundWarranty extends Processor {\n  processorMethod = 'fund'\n  toastConfig = {\n    processing: () => ({ message: 'Funding Claim...' }),\n    success: () => ({ message: 'Claim Funded' }),\n    failure: (error) => ({\n      message: 'Unable to Fund Claim',\n      options: {\n        variant: 'failure',\n        secondaryMessage: error.toString(),\n      }\n    }),\n  }\n  onSubmit(inputs) {\n    return this.process(inputs)\n  }\n  async fund(inputs) {\n    const { context } = this\n    const { contract, web3 } = context\n    const { toWei } = web3.utils\n    const { selectedAddress } = web3.givenProvider\n    const { methods } = contract\n    const { id, value } = inputs\n    return ignoreReject(async () => {\n      deleteClaim(id) // from cache\n      await methods.fundClaim(id).send({\n        from: selectedAddress,\n        value: toWei(value, 'ether'),\n      })\n      return true\n    })\n  }\n  render() {\n    const { props, state, onSubmit } = this\n    const { match = {} } = props\n    const { params = {} } = match\n    const { id } = params\n    const { processing, error } = state\n    return (\n      <Card p={3} mt={3}>\n        {this.toastMessage()}\n        <Helmet>\n          <title>Fund Claim</title>\n        </Helmet>\n        <Form onSubmit={onSubmit.bind(this)}\n          validation={fundSchema}\n          defaultInputs={{\n            id,\n            value: '0',\n          }}>\n          <Flex mx={3} flexWrap='wrap'>\n            <h3>Fund a Claim</h3>\n          </Flex>\n          <FormContext.Consumer>{({ onChange, inputs, valid, validateds }) => (\n            <Flex mt={3} flexWrap='wrap'>\n              <Box width={[1, 1, 1 / 2]} px={3}>\n                <Field label='ID to guarantee' width={1} validated={validateds.id}>\n                  <Input\n                    width={1}\n                    type='number'\n                    required={true}\n                    value={inputs.id || ''}\n                    onChange={(e) => onChange('id', e)} />\n                </Field>\n              </Box>\n              <Box width={[1, 1, 1 / 2]} px={3}>\n                <Field label='Value to add in ether' width={1} validated={validateds.value}>\n                  <Input\n                    width={1}\n                    type='number'\n                    required={true}\n                    value={inputs.value || ''}\n                    onChange={(e) => onChange('value', e)} />\n                </Field>\n              </Box>\n              <Box width={[1, 1, 1 / 2]} px={3} my={3}>\n                <Button\n                  type='submit'\n                  disabled={processing || !valid}>\n                  Fund Claim&nbsp;{processing ? <RimbleLoader color='white' /> : []}\n                </Button>\n              </Box>\n              {error ? <Box width={1} px={3} my={3}>\n                <pre>{error.toString()}</pre>\n              </Box> : []}\n            </Flex>\n          )}</FormContext.Consumer>\n        </Form>\n      </Card>\n    )\n  }\n}\n\nFundWarranty.contextType = Web3Context\n","import React from 'react'\nimport {\n  Switch,\n  Route,\n  withRouter\n} from 'react-router-dom'\nimport { Dashboard } from './Dashboard'\nimport { LinkedActions } from 'components/LinkedActions'\nimport { CreateWarranty } from 'components/CreateWarranty'\nimport { FundWarranty } from 'components/FundWarranty'\n\nconst DashboardWithRouter = withRouter(Dashboard)\nconst LinkedActionsWithRouter = withRouter(LinkedActions)\n\nexport const Customer = (props) => {\n  const { match } = props\n  const { path } = match\n  const linked = (<LinkedActionsWithRouter list=\"customer\" />)\n  return (\n    <Switch>\n      <Route path={path + 'create/'}>\n        {linked}\n        <CreateWarranty guarantee={false} />\n      </Route>\n      <Route path={path + 'fund/'}>\n        {linked}\n        <FundWarranty />\n      </Route>\n      <Route>\n        {linked}\n        <DashboardWithRouter />\n      </Route>\n    </Switch>\n  )\n}\n","import React from \"react\"\nimport {\n  Text,\n} from 'rimble-ui'\nexport const Home = () => {\n  return (\n    <Text>Home</Text>\n  )\n}","import React, { useContext } from \"react\";\nimport {\n  Card,\n  Box,\n  Field,\n  Input,\n  Button,\n  Loader as RimbleLoader,\n  Flex\n} from 'rimble-ui'\nimport { Form, FormContext } from 'components/Form'\nimport { Processor } from 'components/Processor'\nimport { UserContext } from 'contexts/User'\nimport { Web3Context } from 'contexts/Web3'\nimport { ignoreReject } from \"utils\";\nexport class User extends Processor {\n  processorMethod = 'releaseFunds'\n  async releaseFunds({ web3, contract, selectedAddress, inputs, }) {\n    return ignoreReject(async () => {\n      await contract.methods.releaseTo(inputs.address, web3.utils.toWei(inputs.amount, 'ether')).send({\n        from: selectedAddress,\n      })\n      return true\n    })\n  }\n  render() {\n    return (\n      <Web3Context.Consumer>{({ web3, contract }) => (\n        <UserContext.Consumer>{({ amount, selectedAddress }) => (\n          <Card>\n            <Form defaultInputs={{\n              address: selectedAddress,\n              amount: web3.utils.fromWei(amount.toString(), 'ether'),\n            }} onSubmit={(inputs) => {\n              return this.process({ web3, contract, selectedAddress, inputs, })\n            }}>\n              <Release processing={this.state.processing} />\n            </Form>\n          </Card>\n        )}</UserContext.Consumer>\n      )}</Web3Context.Consumer>\n    )\n  }\n}\n\nfunction Release({ processing }) {\n  const { inputs, onChange, valid, } = useContext(FormContext)\n  return (\n    <Flex flexWrap=\"wrap\" mx={-3}>\n      <Box\n        width={[1, 1, 1 / 2]}\n        px={3}>\n        <Field\n          label=\"Address to release ether to\"\n          width={1}>\n          <Input\n            type=\"text\"\n            width={1}\n            value={inputs.address || ''}\n            onChange={(e) => onChange('address', e)}\n            required={true} />\n        </Field>\n      </Box>\n      <Box\n        width={[1, 1, 1 / 2]}\n        px={3}>\n        <Field\n          label=\"Available ether to release from the contract\"\n          width={1}>\n          <Input\n            type=\"number\"\n            width={1}\n            value={inputs.amount || ''}\n            onChange={(e) => onChange('amount', e)}\n            required={true} />\n        </Field>\n      </Box>\n      <Box width={[1, 1, 1 / 2]} px={3}>\n        <Button\n          type=\"submit\"\n          disabled={(processing || !valid) && (+inputs.amount <= 0)}>Release Ether&nbsp;{processing ? <RimbleLoader color=\"white\" /> : []}\n        </Button>\n      </Box>\n    </Flex>\n  )\n}","import React from 'react'\nimport { ShowWarranties } from 'components/ShowWarranties'\nimport { Web3Context } from 'contexts/Web3'\nimport { Helmet } from 'react-helmet'\n\nexport class Dashboard extends ShowWarranties {\n  acceptClaim(claim) {\n    const { givenProvider } = this.context.contract\n    return claim.warrantor.toLowerCase() === givenProvider.selectedAddress.toLowerCase()\n  }\n  async getPastEvents() {\n    const eventName = 'Guaranteed'\n    const { contract } = this.context\n    const { givenProvider } = contract\n    const { selectedAddress } = givenProvider\n    return {\n      eventName,\n      logs: await contract.getPastEvents(eventName, {\n        filter: {\n          to: selectedAddress,\n        },\n        fromBlock: this.cacheLogProgress(eventName) || 'earliest',\n        toBlock: 'latest',\n      })\n    }\n  }\n  renderLoaded() {\n    return (\n      <>\n        <Helmet>\n          <title>Dashboard</title>\n        </Helmet>\n        {super.renderLoaded()}\n      </>\n    )\n  }\n}\nDashboard.contextType = Web3Context\n","import React from 'react'\nexport const ClaimContext = React.createContext({})\n","import React, { Component } from 'react'\nimport { Claim } from 'model/Claim'\nimport { Loader } from 'components/Loader'\nimport { Box, Text } from 'rimble-ui'\n\nexport class LoadsWarranty extends Component {\n    state = {\n        error: null,\n        claim: null,\n    }\n    componentDidMount() {\n        return awaitFetch(this, this.createClaim().fetch())\n    }\n    createClaim() {\n        const { props, context } = this\n        const { match } = props\n        const { contract, web3 } = context\n        const { id } = match.params\n        if (!contract) {\n            return null\n        }\n        return new Claim(id, web3, contract)\n    }\n    updateClaim() {\n        return awaitFetch(this, this.state.claim.update())\n    }\n    renderLoaded() {\n        return []\n    }\n    render() {\n        const { claim, error } = this.state\n        if (error) {\n            return (\n                <Text>{error.toString()}</Text>\n            )\n        }\n        if (!claim) {\n            return (\n                <Box my={3}>\n                    <Loader>Loading claim...</Loader>\n                </Box>\n            )\n        }\n        return this.renderLoaded()\n    }\n}\n\nasync function awaitFetch(component, promise) {\n    try {\n        const claim = await promise\n        component.setState({\n            claim,\n            error: null,\n        })\n    } catch (error) {\n        component.setState({\n            error,\n        })\n    }\n}\n","import React from 'react'\nimport {\n    Text as RimbleText\n} from 'rimble-ui'\n\nexport function Text({ title, children }) {\n    return (\n        <RimbleText>\n            <RimbleText.span color=\"#333\" minWidth={120} display=\"inline-block\">{title}:&nbsp;</RimbleText.span>\n            <RimbleText.span color=\"#000\">{children}</RimbleText.span>\n        </RimbleText>\n    )\n}\n","import React from \"react\"\nimport { toDate } from '../../utils'\nimport { Web3Context } from 'contexts/Web3'\nimport {\n  Button,\n  Box\n} from 'rimble-ui'\nimport { pathAppend } from 'utils'\nimport { Link } from 'components/Link'\nimport { Progress } from 'components/Progress'\nimport { Text } from 'components/Text'\nimport { LoadsWarranty } from \"./LoadsWarranty\"\n\nexport class ViewWarranty extends LoadsWarranty {\n  renderLoaded() {\n    const { state, props } = this\n    const { match } = props\n    const { url } = match\n    const { claim } = state\n    return (\n      <Box my={3}>\n        <Text title=\"Owner\">{claim.owner}</Text>\n        <Text title=\"ID\">{claim.id}</Text>\n        <Text title=\"Activated At\">{toDate(claim.activatedTime())}</Text>\n        <Text title=\"Expires At\">{toDate(claim.expiredTime())}</Text>\n        <Text title=\"Progress\"><Progress claim={claim} /></Text>\n        <Box mr={3} my={3} width=\"auto\" display=\"inline-block\">\n          <Link to={pathAppend(url, 'terminate/')}>\n            <Button disabled={!claim.can('terminate')}>Terminate</Button>\n          </Link>\n        </Box>\n        <Box mr={3} my={3} width=\"auto\" display=\"inline-block\">\n          <Link to={pathAppend(url, `../../fund/${claim.id}/`)}>\n            <Button.Outline disabled={!claim.can('fund')}>Fund</Button.Outline>\n          </Link>\n        </Box>\n        <Box mr={3} my={3} width=\"auto\" display=\"inline-block\">\n          <Link to={pathAppend(url, 'redeem/')}>\n            <Button.Outline disabled={!claim.can('redeem')}>Redeem</Button.Outline>\n          </Link>\n        </Box>\n        <Box mr={3} my={3} width=\"auto\" display=\"inline-block\">\n          <Link to={pathAppend(url, 'deredeem/')}>\n            <Button.Outline disabled={!claim.can('deredeem')}>Deredeem</Button.Outline>\n          </Link>\n        </Box>\n        <Box mr={3} my={3} width=\"auto\" display=\"inline-block\">\n          <Link to={pathAppend(url, 'fulfill/')}>\n            <Button disabled={!claim.can('fulfill')}>Fulfill</Button>\n          </Link>\n        </Box>\n      </Box>\n    )\n  }\n}\n\nViewWarranty.contextType = Web3Context\n","import React from 'react'\nimport { Processor } from 'components/Processor'\nimport { Text } from 'components/Text'\nimport { ignoreReject, toDate } from 'utils'\nimport {\n  Button,\n  Box,\n  Loader as RimbleLoader,\n  Text as RimbleText\n} from 'rimble-ui'\n// import { Redirect } from 'react-router-dom'\nimport { Progress } from 'components/Progress'\nimport { ClaimContext } from 'contexts/Claim'\nexport class TerminateWarranty extends Processor {\n  processorMethod = 'terminate'\n  onClick(e) {\n    return this.process() // process calls terminate\n  }\n  async terminate() {\n    const { context } = this\n    const { contract } = context\n    const { methods, givenProvider } = contract\n    return ignoreReject(async () => {\n      await methods.terminateClaim(context.claim.id).send({\n        from: givenProvider.selectedAddress\n      })\n      await context.updateClaim()\n      return true\n    })\n  }\n  render() {\n    const { props, state, context } = this\n    const { match } = props\n    const { claim } = context\n    const { id } = match.params\n    const { error, processing } = state\n    return (\n      <Box my={3}>\n        <Text title=\"Action\">Termination</Text>\n        <Text title=\"ID\">{id}</Text>\n        <Text title=\"Owner\">{claim.owner}</Text>\n        <Text title=\"Activated At\">{toDate(claim.activatedTime())}</Text>\n        <Text title=\"Expires At\">{toDate(claim.expiredTime())}</Text>\n        <Text title=\"Progress\"><Progress claim={claim} /></Text>\n        <Button\n          mt={3}\n          onClick={this.onClick.bind(this)}\n          disabled={processing || !claim.can('terminate')}>\n          Terminate Warranty&nbsp;{processing ? <RimbleLoader color=\"white\" /> : []}\n        </Button>\n        <RimbleText>{error ? error.toString() : []}</RimbleText>\n        {/* {(processed && !error) ? <Redirect to=\"..\" /> : []} */}\n      </Box>\n    )\n  }\n}\n\nTerminateWarranty.contextType = ClaimContext\n","import React from 'react'\nimport { Processor } from 'components/Processor'\nimport { Text } from 'components/Text'\nimport { ignoreReject, toDate } from 'utils'\nimport {\n  Button,\n  Box,\n  Loader as RimbleLoader,\n  Text as RimbleText\n} from 'rimble-ui'\n// import { Redirect } from 'react-router-dom'\nimport { Progress } from 'components/Progress'\nimport { ClaimContext } from 'contexts/Claim'\nexport class RedeemWarranty extends Processor {\n  processorMethod = 'redeem'\n  onClick() {\n    return this.process()\n  }\n  async redeem() {\n    const { context } = this\n    const { contract } = context\n    const { methods, givenProvider } = contract\n    return ignoreReject(async () => {\n      await methods.redeemClaim(context.claim.id).send({\n        from: givenProvider.selectedAddress\n      })\n      await context.updateClaim()\n      return true\n    })\n  }\n  render() {\n    const { props, state, context } = this\n    const { match } = props\n    const { claim } = context\n    const { id } = match.params\n    const { error, processing } = state\n    return (\n      <Box my={3}>\n        <Text title=\"Action\">Redemption</Text>\n        <Text title=\"ID\">{id}</Text>\n        <Text title=\"Owner\">{claim.owner}</Text>\n        <Text title=\"Activated At\">{toDate(claim.activatedTime())}</Text>\n        <Text title=\"Expires At\">{toDate(claim.expiredTime())}</Text>\n        <Text title=\"Progress\"><Progress claim={claim} /></Text>\n        <Button\n          mt={3}\n          onClick={this.onClick.bind(this)}\n          disabled={processing || !claim.can('redeem')}>\n          Redeem Warranty&nbsp;{processing ? <RimbleLoader color=\"white\" /> : []}\n        </Button>\n        <RimbleText>{error ? error.toString() : []}</RimbleText>\n        {/* {(processed && !error) ? <Redirect to=\"..\" /> : []} */}\n      </Box>\n    )\n  }\n}\n\nRedeemWarranty.contextType = ClaimContext\n","import React from 'react'\nimport { Processor } from 'components/Processor'\nimport { Text } from 'components/Text'\nimport { ignoreReject, toDate } from 'utils'\nimport { Form, FormContext } from 'components/Form'\nimport {\n  Flex,\n  Button,\n  Box,\n  Field,\n  Input,\n  Loader as RimbleLoader,\n  Text as RimbleText\n} from 'rimble-ui'\n// import { Redirect } from 'react-router-dom'\nimport { Progress } from 'components/Progress'\nimport { ClaimContext } from 'contexts/Claim'\nimport { deredeem as deredeemSchema } from 'schemas/'\nexport class DeredeemWarranty extends Processor {\n  processorMethod = 'deredeem'\n  onSubmit(inputs) {\n    return this.process(inputs)\n  }\n  async deredeem(inputs) {\n    const { context } = this\n    const { contract } = context\n    const { methods, givenProvider } = contract\n    return ignoreReject(async () => {\n      await methods.deredeemClaim(context.claim.id, inputs.expiryTime, inputs.delayTime).send({\n        from: givenProvider.selectedAddress\n      })\n      await context.updateClaim()\n      return true\n    })\n  }\n  render() {\n    const { props, state, context } = this\n    const { match } = props\n    const { claim } = context\n    const { id } = match.params\n    const { error, processing } = state\n    return (\n      <Box mt={3}>\n        <Text title=\"Action\">Redemption</Text>\n        <Text title=\"ID\">{id}</Text>\n        <Text title=\"Owner\">{claim.owner}</Text>\n        <Text title=\"Activated At\">{toDate(claim.activatedTime())}</Text>\n        <Text title=\"Expires At\">{toDate(claim.expiredTime())}</Text>\n        <Text title=\"Progress\"><Progress claim={claim} /></Text>\n        <Form validation={deredeemSchema} onSubmit={this.onSubmit.bind(this)}>\n          <FormContext.Consumer>{(form) => (\n            <Flex mt={3} mx={-3}>\n              <Box width={[1, 1, 1 / 2]}>\n                <Field label=\"Delay Time (b)\" width={1} px={3}>\n                  <Input\n                    width={1}\n                    type=\"number\"\n                    value={form.inputs.delayTime || ''}\n                    required={true}\n                    placeholder=\"Add seconds to the delay time\"\n                    onChange={(e) => form.onChange(\"delayTime\", e)} />\n                </Field>\n              </Box>\n              <Box width={[1, 1, 1 / 2]}>\n                <Field label=\"Expiry Time (c)\" width={1} px={3}>\n                  <Input\n                    width={1}\n                    type=\"number\"\n                    value={form.inputs.expiryTime || ''}\n                    required={true}\n                    placeholder=\"Add seconds to the expiry time\"\n                    onChange={(e) => form.onChange(\"expiryTime\", e)} />\n                </Field>\n              </Box>\n              <Box width={1}>\n                <Button\n                  type=\"submit\"\n                  mt={3}\n                  // onClick={this.onClick.bind(this)}\n                  disabled={processing || !claim.can('deredeem')}>\n                  Deredeem Warranty&nbsp;{processing ? <RimbleLoader color=\"white\" /> : []}\n                </Button>\n              </Box>\n              <Box width={1}>\n                <RimbleText>{error ? error.toString() : []}</RimbleText>\n              </Box>\n            </Flex>\n          )}\n          </FormContext.Consumer>\n        </Form>\n        {/* {(processed && !error) ? <Redirect to=\"..\" /> : []} */}\n      </Box>\n    )\n  }\n}\n\nDeredeemWarranty.contextType = ClaimContext\n","import React from 'react'\nimport BigNumber from 'bignumber.js'\nimport { Processor } from 'components/Processor'\nimport { Text } from 'components/Text'\nimport { Form, FormContext } from 'components/Form'\nimport { ignoreReject, addressZero, toDate } from 'utils'\nimport {\n  Button,\n  Flex,\n  Field,\n  Input,\n  Box,\n  Loader as RimbleLoader,\n  Text as RimbleText\n} from 'rimble-ui'\n// import { Redirect } from 'react-router-dom'\nimport { Progress } from 'components/Progress'\nimport { ClaimContext } from 'contexts/Claim'\nimport { fulfill as fulfillSchema } from 'schemas/'\nexport class FulfillWarranty extends Processor {\n  processorMethod = 'fulfill'\n  onSubmit(inputs) {\n    return this.process(inputs)\n  }\n  async fulfill(inputs) {\n    const { context } = this\n    const { contract, claim, web3 } = context\n    const { toWei } = web3.utils\n    const { methods, givenProvider } = contract\n    return ignoreReject(async () => {\n      await methods.fulfillClaim(inputs.address || addressZero, claim.id).send({\n        from: givenProvider.selectedAddress,\n        // excess eth is credited to sender\n        value: toWei(inputs.value, 'ether'),\n      })\n      await context.updateClaim()\n      return true\n    })\n  }\n  computeNeededValue() {\n    const { web3, claim } = this.context\n    const { fromWei } = web3.utils\n    return fromWei((new BigNumber(claim.valuation)).minus(claim.value).toString(), 'ether')\n  }\n  render() {\n    const { props, state, context } = this\n    const { match } = props\n    const { claim } = context\n    const { id } = match.params\n    const { error, processing } = state\n    return (\n      <Box my={3}>\n        <Form\n          validation={fulfillSchema}\n          onSubmit={this.onSubmit.bind(this)}\n          defaultInputs={{ value: this.computeNeededValue(), address: '' }}>\n          <FormContext.Consumer>{(form) => (\n            <>\n              <Text title=\"Action\">Fulfillment</Text>\n              <Text title=\"ID\">{id}</Text>\n              <Text title=\"Owner\">{claim.owner}</Text>\n              <Text title=\"Activated At\">{toDate(claim.activatedTime())}</Text>\n              <Text title=\"Expires At\">{toDate(claim.expiredTime())}</Text>\n              <Text title=\"Progress\"><Progress claim={claim} /></Text>\n              <Flex mt={3} mx={-3}>\n                <Box width={[1, 1, 1 / 2]}>\n                  <Field label=\"Required token owner\" width={1} px={3}>\n                    <Input\n                      width={1}\n                      type=\"text\"\n                      value={form.inputs.address || ''}\n                      placeholder={`default: ${addressZero}`}\n                      onChange={(e) => form.onChange(\"address\", e)} />\n                  </Field>\n                </Box>\n                <Box width={[1, 1, 1 / 2]}>\n                  <Field label=\"Value Needed to Fulfill (ether)\" width={1} px={3}>\n                    <Input\n                      width={1}\n                      type=\"number\"\n                      value={form.inputs.value || ''}\n                      required={true}\n                      placeholder=\"e.g. 100000000000\"\n                      onChange={(e) => form.onChange(\"value\", e)} />\n                  </Field>\n                </Box>\n              </Flex>\n              <Button\n                type=\"submit\"\n                mt={3}\n                disabled={processing || !claim.can('fulfill')}>\n                Fulfill Warranty&nbsp;{processing ? <RimbleLoader color=\"white\" /> : []}\n              </Button>\n              <RimbleText>{error ? error.toString() : []}</RimbleText>\n              {/* {(processed && !error) ? <Redirect to=\"..\" /> : []} */}\n            </>\n          )}\n          </FormContext.Consumer>\n        </Form>\n      </Box>\n    )\n  }\n}\n\nFulfillWarranty.contextType = ClaimContext\n","import React from 'react'\nimport { ClaimContext } from 'contexts/Claim'\nimport { Web3Context } from 'contexts/Web3'\nimport { LoadsWarranty } from './LoadsWarranty'\nimport { ViewWarranty } from './ViewWarranty'\nimport { TerminateWarranty } from './TerminateWarranty'\nimport { RedeemWarranty } from './RedeemWarranty'\nimport { DeredeemWarranty } from './DeredeemWarranty'\nimport { FulfillWarranty } from './FulfillWarranty'\nimport update from 'immutability-helper'\nimport {\n    withRouter,\n    Switch,\n    Route\n} from \"react-router-dom\"\n\nconst ViewWarrantyWithRouter = withRouter(ViewWarranty)\nconst TerminateWarrantyWithRouter = withRouter(TerminateWarranty)\nconst RedeemWarrantyWithRouter = withRouter(RedeemWarranty)\nconst DeredeemWarrantyWithRouter = withRouter(DeredeemWarranty)\nconst FulfillWarrantyWithRouter = withRouter(FulfillWarranty)\n\nexport class PerWarranty extends LoadsWarranty {\n    renderLoaded() {\n        const { props, state, context } = this\n        const { match } = props\n        const { path } = match\n        const { claim } = state\n        return (\n            <ClaimContext.Provider value={update(context, {\n                claim: { $set: claim },\n                updateClaim: { $set: this.updateClaim.bind(this) },\n            })}>\n                <Switch>\n                    <Route path={path + \"terminate/\"}>\n                        <TerminateWarrantyWithRouter />\n                    </Route>\n                    <Route path={path + \"redeem/\"}>\n                        <RedeemWarrantyWithRouter />\n                    </Route>\n                    <Route path={path + \"deredeem/\"}>\n                        <DeredeemWarrantyWithRouter />\n                    </Route>\n                    <Route path={path + \"fulfill/\"}>\n                        <FulfillWarrantyWithRouter />\n                    </Route>\n                    <Route>\n                        <ViewWarrantyWithRouter />\n                    </Route>\n                </Switch>\n            </ClaimContext.Provider>\n        )\n    }\n}\n\nPerWarranty.contextType = Web3Context\n","import React from 'react'\nimport {\n  Flex,\n  Box,\n  Field,\n  Card,\n  Input,\n  Button,\n  Loader as RimbleLoader\n} from 'rimble-ui'\nimport { Helmet } from 'react-helmet'\nimport {\n  Form,\n  FormContext\n} from 'components/Form'\nimport { fund as fundSchema } from 'schemas'\nimport { Web3Context } from 'contexts/Web3'\nimport { ignoreReject } from 'utils'\nimport { Processor } from 'components/Processor'\nimport { deleteClaim } from 'model/Claim'\n\nexport class GuaranteeWarranty extends Processor {\n  processorMethod = 'fund'\n  toastConfig = {\n    processing: () => ({ message: 'Claiming Warrantor Status...' }),\n    success: () => ({ message: 'Warrantor Status Granted' }),\n    failure: (error) => ({\n      message: 'Unable to Claim Warrantor Status',\n      options: {\n        variant: 'failure',\n        secondaryMessage: error.toString(),\n      }\n    }),\n  }\n  onSubmit(inputs) {\n    return this.process(inputs)\n  }\n  async fund(inputs) {\n    const { context } = this\n    const { contract, web3 } = context\n    const { toWei } = web3.utils\n    const { selectedAddress } = web3.givenProvider\n    const { methods } = contract\n    const { id, value } = inputs\n    return ignoreReject(async () => {\n      deleteClaim(id) // from cache\n      await methods.guaranteeClaim(id).send({\n        from: selectedAddress,\n        value: toWei(value, 'ether'),\n      })\n      return true\n    })\n  }\n  render() {\n    const { processing, error } = this.state\n    return (\n      <Card p={3} mt={3}>\n        {this.toastMessage()}\n        <Helmet>\n          <title>Guarantee Claim</title>\n        </Helmet>\n        <Form onSubmit={this.onSubmit.bind(this)}\n          validation={fundSchema}\n          defaultInputs={{\n            value: '0',\n          }}>\n          <Flex mx={3} flexWrap=\"wrap\">\n            <h3>Guarantee a Claim</h3>\n          </Flex>\n          <FormContext.Consumer>{({ onChange, inputs, valid, validateds }) => (console.log(validateds) ||\n            <Flex mt={3} flexWrap=\"wrap\">\n              <Box width={[1, 1, 1 / 2]} px={3}>\n                <Field label=\"ID to guarantee\" width={1} validated={validateds.id}>\n                  <Input\n                    width={1}\n                    type=\"number\"\n                    required={true}\n                    value={inputs.id || ''}\n                    onChange={(e) => onChange('id', e)} />\n                </Field>\n              </Box>\n              <Box width={[1, 1, 1 / 2]} px={3}>\n                <Field label=\"Value to add in ether\" width={1} validated={validateds.value}>\n                  <Input\n                    width={1}\n                    type=\"number\"\n                    required={true}\n                    value={inputs.value || ''}\n                    onChange={(e) => onChange('value', e)} />\n                </Field>\n              </Box>\n              <Box width={[1, 1, 1 / 2]} px={3} my={3}>\n                <Button\n                  type=\"submit\"\n                  disabled={processing || !valid}>\n                  Guarantee Claim&nbsp;{processing ? <RimbleLoader color=\"white\" /> : []}\n                </Button>\n              </Box>\n              {error ? <Box width={1} px={3} my={3}>\n                <pre>{error.toString()}</pre>\n              </Box> : []}\n            </Flex>\n          )}</FormContext.Consumer>\n        </Form>\n      </Card>\n    )\n  }\n}\n\nGuaranteeWarranty.contextType = Web3Context\n","import React, { Component } from 'react'\nimport { Dashboard } from './Dashboard'\nimport { PerWarranty } from './PerWarranty'\nimport {\n  withRouter,\n  Switch,\n  Route\n} from 'react-router-dom'\nimport { CreateWarranty } from 'components/CreateWarranty'\nimport { FundWarranty } from 'components/FundWarranty'\nimport { GuaranteeWarranty } from 'components/GuaranteeWarranty'\nimport { LinkedActions } from 'components/LinkedActions'\n\nconst PerWarrantyWithRouter = withRouter(PerWarranty)\nconst FundWarrantyWithRouter = withRouter(FundWarranty)\nconst DashboardWithRouter = withRouter(Dashboard)\nconst LinkedActionsWithRouter = withRouter(LinkedActions)\n\nexport class Business extends Component {\n  render() {\n    const { props } = this\n    const { match } = props\n    const { path } = match\n    const linked = (<LinkedActionsWithRouter list=\"business\" />)\n    return (\n      <Switch>\n        <Route path={path + 'create/'}>\n          {linked}\n          <CreateWarranty guarantee={true} />\n        </Route>\n        <Route path={path + 'fund/:id/'}>\n          {linked}\n          <FundWarrantyWithRouter />\n        </Route>\n        <Route path={path + 'fund/'}>\n          {linked}\n          <FundWarrantyWithRouter />\n        </Route>\n        <Route path={path + 'guarantee/'}>\n          {linked}\n          <GuaranteeWarranty />\n        </Route>\n        <Route path={path + 'warranty/:id/'}>\n          {linked}\n          <PerWarrantyWithRouter />\n        </Route>\n        <Route>\n          {linked}\n          <DashboardWithRouter />\n        </Route>\n      </Switch>\n    )\n  }\n}\n\n","\nimport React, { useContext } from 'react';\nimport Nav from 'react-bootstrap/Nav'\nimport { UserContext } from 'contexts/User'\nimport {\n  Blockie,\n  Box\n} from 'rimble-ui'\nimport { withRouter } from 'react-router-dom'\nimport { Web3Context } from 'contexts/Web3';\nconst balanceStyles = {\n  float: 'left',\n  height: 30,\n  lineHeight: '30px',\n  marginRight: 5\n}\nexport const Navigation = withRouter((props) => {\n  const { history, list, location, user } = props\n  return (\n    <Web3Context.Consumer>{({ contract, web3 }) => (\n      <Nav\n        variant=\"tabs\"\n        activeKey={location.pathname}\n        defaultActiveKey=\"/\"\n      >\n        {list.map(({ to, content }) => (\n          <Nav.Item key={to}>\n            <Nav.Link\n              eventKey={to}\n              onClick={() => history.push(to)}>{content}</Nav.Link>\n          </Nav.Item>\n        ))}\n        {(!contract || !user || !contract.givenProvider) ? [] : (<Box style={{ margin: \"auto 0 auto auto\" }}>\n          <Balance\n            web3={web3}\n            methods={contract.methods}\n            selectedAddress={contract.givenProvider.selectedAddress} />\n          {renderUser(props, contract)}\n        </Box>)}\n      </Nav>\n    )}</Web3Context.Consumer>\n  )\n})\n\nfunction Balance(props) {\n  const user = useContext(UserContext)\n  const { web3 } = useContext(Web3Context)\n  return (\n    <Nav.Item key=\"balance\" style={balanceStyles}>\n      {/* {loading ? <Loader /> : []} */}\n      {web3.utils.fromWei(user.amount.toString(), 'ether')} ether\n    </Nav.Item>\n  )\n}\n\nfunction renderUser(props, contract) {\n  return (\n    <Nav.Item key=\"/user/\" style={{ float: 'left' }}>\n      <Nav.Link\n        style={{ padding: 0, fontSize: 0, border: 0 }}\n        eventKey=\"/user/\"\n        onClick={() => props.history.push(\"/user/\")}>\n        <Blockie\n          opts={{\n            seed: contract.givenProvider.selectedAddress,\n            color: \"#dfe\",\n            bgcolor: \"#a71\",\n            size: 15,\n            scale: 2,\n            spotcolor: \"#000\"\n          }}\n        />\n      </Nav.Link>\n    </Nav.Item>\n  )\n}\n","import React, { Component } from 'react'\nimport styled from 'styled-components'\nimport { Provider as UserProvider } from 'contexts/User'\nimport { Web3Context } from 'contexts/Web3'\nimport { Helmet } from 'react-helmet'\nimport {\n  Box\n} from 'rimble-ui'\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  withRouter\n} from 'react-router-dom'\nimport Container from 'react-bootstrap/Container'\nimport { Loader } from 'components/Loader'\nimport { Customer } from 'containers/Customer'\nimport { Home } from 'containers/Home'\nimport { User } from 'containers/User'\nimport { Business } from 'containers/Business/'\nimport { Navigation } from 'containers/Navigation/'\nimport './index.css'\n\nconst CustomerWithRouter = withRouter(Customer)\nconst BusinessWithRouter = withRouter(Business)\nconst UserWithRouter = withRouter(User)\nconst routes = [{\n  to: '/',\n  content: 'home'\n}, {\n  to: '/customer/',\n  content: 'customer'\n}, {\n  to: '/business/',\n  content: 'business'\n}]\nconst StyleContainer = styled.div`\n.container {\n  margin-left: auto;\n  margin-right: auto;\n}\n.loader-text-centered {\n  text-align: center;\n}\n.loader-centered {\n  margin: 0 auto;\n}\n`\nexport class App extends Component {\n  render() {\n    const { web3 } = this.context\n    return (\n      <UserProvider>\n        <Helmet\n          titleTemplate=\"Warrantee - %s\"\n          defaultTitle=\"Warrantee\" />\n        <StyleContainer className=\"warranty-app\">\n          <Router>\n            <Container>\n              <Navigation list={routes} user={true} />\n            </Container>\n            <Box mt={3} className=\"container\">\n              {renderChildren(web3)}\n            </Box>\n          </Router>\n        </StyleContainer>\n      </UserProvider>\n    )\n\n    function renderChildren(web3) {\n      if (!web3) {\n        return (\n          <Box mt={3}>\n            <Loader>Loading Web3, accounts, and contract...</Loader>\n          </Box>\n        );\n      }\n      return (\n        <Switch>\n          <Route path=\"/customer/\">\n            <CustomerWithRouter />\n          </Route>\n          <Route path=\"/business/\">\n            <BusinessWithRouter />\n          </Route>\n          <Route path=\"/user/\">\n            <UserWithRouter />\n          </Route>\n          <Route path=\"/\">\n            <Home />\n          </Route>\n        </Switch>\n      )\n    }\n  }\n}\n\nApp.contextType = Web3Context\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport { App } from './containers/App';\nimport { Web3Context, getUserInfo } from './contexts/Web3'\nimport * as serviceWorker from './serviceWorker';\n\nrender({})\ngetUserInfo().then(render)\n\nasync function render(contextValue) {\n  ReactDOM.render(\n    <Web3Context.Provider value={contextValue}>\n      <App />\n    </Web3Context.Provider>,\n    document.getElementById('root')\n  );\n  // If you want your app to work offline and load faster, you can change\n  // unregister() to register() below. Note this comes with some pitfalls.\n  // Learn more about service workers: https://bit.ly/CRA-PWA\n  serviceWorker.unregister();\n}\n"],"sourceRoot":""}